<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Turn Script-Based Workflows into Reproducible Pipelines • bakepipe</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Turn Script-Based Workflows into Reproducible Pipelines">
<meta name="description" content="Bakepipe turns your script-based workflows into reproducible pipelines. It's designed for scientists and analysts who use R and prefer to keep their workflows in scripts, but need better management of file dependencies. The package automatically determines script execution order through static analysis of file_in() and file_out() calls.">
<meta property="og:description" content="Bakepipe turns your script-based workflows into reproducible pipelines. It's designed for scientists and analysts who use R and prefer to keep their workflows in scripts, but need better management of file dependencies. The package automatically determines script execution order through static analysis of file_in() and file_out() calls.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">bakepipe</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/vangberg/bakepipe/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="bakepipe">Bakepipe<a class="anchor" aria-label="anchor" href="#bakepipe"></a>
</h1></div>
<p>Bakepipe is an R library that turns your script-based workflows into reproducible pipelines. It’s designed for scientists and analysts who use R and prefer to keep their workflows in scripts, but need better management of file dependencies.</p>
<div class="section level2">
<h2 id="table-of-contents">Table of Contents<a class="anchor" aria-label="anchor" href="#table-of-contents"></a>
</h2>
<ul>
<li><a href="#motivation">Motivation</a></li>
<li>
<a href="#quick-start">Quick Start</a>
<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#your-first-pipeline">Your First Pipeline</a></li>
</ul>
</li>
<li><a href="#example">Example</a></li>
<li>
<a href="#api">API</a>
<ul>
<li><a href="#mark-input">Mark input</a></li>
<li><a href="#mark-output">Mark output</a></li>
<li><a href="#run-pipeline">Run pipeline</a></li>
<li><a href="#show-pipeline-status">Show pipeline status</a></li>
</ul>
</li>
<li>
<a href="#frequently-asked-questions">Frequently asked questions</a>
<ul>
<li><a href="#how-is-script-execution-order-determined">How is script execution order determined?</a></li>
<li><a href="#are-outputs-cached">Are outputs cached?</a></li>
<li><a href="#how-does-bakepipe-compare-to-other-pipeline-tools">How does Bakepipe compare to other pipeline tools?</a></li>
</ul>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="motivation">Motivation<a class="anchor" aria-label="anchor" href="#motivation"></a>
</h2>
<p>When analyzing data in R, you often start with everything in a single script. As the analysis broadens, you might split it into multiple scripts. One script might read in the data, clean it up, maybe merge multiple datasets. Statistics are run in another script, while plots are generated in a third. Each script writes data to be used by another script. This is all fine, but eventually it gets out of hand. You need to manually run the scripts in the right order, manually tracking these file dependencies. This manual tracking can lead to errors, forgotten steps, and headaches, especially when sharing your analysis with colleagues.</p>
<p>Bakepipe helps you manage this by automatically determining the execution order of your scripts based on their file inputs and outputs. It lets you maintain your script-based workflow, avoiding the need to refactor into functions or learn complex new syntaxes.</p>
</div>
<div class="section level2">
<h2 id="quick-start">Quick Start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h2>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install from GitHub using devtools</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"vangberg/bakepipe"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="your-first-pipeline">Your First Pipeline<a class="anchor" aria-label="anchor" href="#your-first-pipeline"></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<strong>Create project root marker:</strong> Create an empty <code>_bakepipe.R</code> file in your project root directory.</li>
<li>
<strong>Mark file relationships:</strong> In your R scripts, use <code><a href="reference/file_in.html">file_in()</a></code> and <code><a href="reference/file_out.html">file_out()</a></code> to specify input and output files.</li>
<li>
<strong>Run:</strong> From your R console or RStudio, simply call <code><a href="reference/run.html">bakepipe::run()</a></code>.</li>
</ol>
<p>Bakepipe will detect these file relationships and execute all your scripts in the correct order.</p>
</div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>In our example, we have the following files:</p>
<table class="table">
<thead><tr class="header">
<th>File</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>sales.csv</code></td>
<td>Daily sales data with product categories and revenue</td>
</tr>
<tr class="even">
<td><code>analysis.R</code></td>
<td>Calculates monthly sales summaries</td>
</tr>
<tr class="odd">
<td><code>plots.R</code></td>
<td>Creates a monthly trend plot</td>
</tr>
</tbody>
</table>
<p>The workflow looks like this:</p>
<pre class="mermaid"><code>graph LR
    data[(sales.csv)] --&gt;|read by| analysis[analysis.R]
    analysis --&gt;|writes| results[(monthly_sales.csv)]
    results --&gt;|read by| plots[plots.R]
    plots --&gt;|writes| plot{{monthly_trend.png}}</code></pre>
<p>Here is what the scripts look like:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># analysis.R</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://vangberg.github.io/bakepipe/">bakepipe</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">sales</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="reference/file_in.html">file_in</a></span><span class="op">(</span><span class="st">"sales.csv"</span><span class="op">)</span><span class="op">)</span> <span class="co"># Input file</span></span>
<span><span class="va">monthly</span> <span class="op">&lt;-</span> <span class="va">sales</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">month</span>, <span class="va">category</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">summarize</span><span class="op">(</span>revenue <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">revenue</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span><span class="va">monthly</span>, <span class="fu"><a href="reference/file_out.html">file_out</a></span><span class="op">(</span><span class="st">"monthly_sales.csv"</span><span class="op">)</span><span class="op">)</span> <span class="co"># Output file</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># plots.R</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://vangberg.github.io/bakepipe/">bakepipe</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">monthly</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="reference/file_in.html">file_in</a></span><span class="op">(</span><span class="st">"monthly_sales.csv"</span><span class="op">)</span><span class="op">)</span> <span class="co"># Input file</span></span>
<span><span class="fu">ggplot</span><span class="op">(</span><span class="va">monthly</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">month</span>, <span class="va">revenue</span>, color <span class="op">=</span> <span class="va">category</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_line</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggsave</span><span class="op">(</span><span class="fu"><a href="reference/file_out.html">file_out</a></span><span class="op">(</span><span class="st">"monthly_trend.png"</span><span class="op">)</span><span class="op">)</span> <span class="co"># Output file</span></span></code></pre></div>
<p><code>file_in</code> and <code>file_out</code> are used to mark the input and output of the script. They both return the path to the file, so they can be used directly when reading or writing. They don’t actually read or write files themselves – they just mark file relationships so Bakepipe can figure out what needs to run when. This works seamlessly with any R data type or file format (e.g., <code>.csv</code>, <code>.rds</code>, <code>.fst</code>).</p>
<p>To execute your pipeline:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bakepipe</span><span class="fu">::</span><span class="fu"><a href="reference/run.html">run</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This will execute all your scripts in the right order every time it’s called, and tell you which files were created.</p>
</div>
<div class="section level2">
<h2 id="api">API<a class="anchor" aria-label="anchor" href="#api"></a>
</h2>
<div class="section level3">
<h3 id="mark-input">Mark input<a class="anchor" aria-label="anchor" href="#mark-input"></a>
</h3>
<p>To mark a file as input, use <code>bakepipe::file_in("path/to/file")</code>. <code>file_in(path)</code> returns <code>path</code>, so it can be used directly when reading the file:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu">bakepipe</span><span class="fu">::</span><span class="fu"><a href="reference/file_in.html">file_in</a></span><span class="op">(</span><span class="st">"data.csv"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="mark-output">Mark output<a class="anchor" aria-label="anchor" href="#mark-output"></a>
</h3>
<p>To mark a file as output, use <code>bakepipe::file_out("path/to/file")</code>. <code>file_out(path)</code> returns <code>path</code>, so it can be used directly when writing the file:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html" class="external-link">write.csv</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu">bakepipe</span><span class="fu">::</span><span class="fu"><a href="reference/file_out.html">file_out</a></span><span class="op">(</span><span class="st">"data.csv"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="run-pipeline">Run pipeline<a class="anchor" aria-label="anchor" href="#run-pipeline"></a>
</h3>
<p>To run the pipeline, use <code><a href="reference/run.html">bakepipe::run()</a></code>. This will execute all scripts in the pipeline graph in their determined topological order, and return a list of the files that were created or updated. If a script fails, Bakepipe stops execution and provides R’s standard error messages, allowing for easy debugging.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bakepipe</span><span class="fu">::</span><span class="fu"><a href="reference/run.html">run</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="show-pipeline-status">Show pipeline status<a class="anchor" aria-label="anchor" href="#show-pipeline-status"></a>
</h3>
<p>To show the pipeline, use <code><a href="reference/status.html">bakepipe::status()</a></code>. This will display a textual representation of the input/output relationships between your files in the console, helping you visualize your workflow.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bakepipe</span><span class="fu">::</span><span class="fu"><a href="reference/status.html">status</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="frequently-asked-questions">Frequently asked questions<a class="anchor" aria-label="anchor" href="#frequently-asked-questions"></a>
</h2>
<div class="section level3">
<h3 id="how-is-script-execution-order-determined">How is script execution order determined?<a class="anchor" aria-label="anchor" href="#how-is-script-execution-order-determined"></a>
</h3>
<p>Bakepipe determines the correct execution order through static analysis of your R scripts, looking for <code>file_in</code> and <code>file_out</code> calls. It parses the scripts without executing them to build an execution graph, which it then uses to determine the proper sequence. This static analysis means you don’t need to refactor your scripts into functions or drastically change your script structure beyond adding the <code><a href="reference/file_in.html">file_in()</a></code> and <code><a href="reference/file_out.html">file_out()</a></code> calls.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/vangberg/bakepipe/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing bakepipe</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://harry.vangberg.name" class="external-link">Harry Vangberg</a> <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://harry.vangberg.name" class="external-link">Harry Vangberg</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
